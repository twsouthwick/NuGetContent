<Project>

  <Target Name="AddJavascriptContentFiles" BeforeTargets="AssignTargetPaths">
    <ItemGroup>
      <PackageReference Update="@(PackageReference)" GeneratePathProperty="true" Condition=" '%(PackageReference.AddContentFiles)' == 'true' " />
    </ItemGroup>
    <ItemGroup>
      <__KnownLibrary Include="jQuery" PackagePath="$(PkgjQuery)" />

      <__KnownLibrary Remove="@(__KnownLibrary)" Condition=" '%(__KnownLibrary.PackagePath)' == '' " />
    </ItemGroup>

    <ItemGroup>
      <__ContentFiles Include="%(__KnownLibrary.PackagePath)\Content\**\*">
        <BasePath>%(__KnownLibrary.PackagePath)\Content</BasePath>
      </__ContentFiles>

      <Content Include="@(__ContentFiles)">
        <Link>$([MSBuild]::MakeRelative(%(BasePath),%(Identity)))</Link>
        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      </Content>
    </ItemGroup>
    
  </Target>
</Project>